{"version":3,"sources":["Styles/Messages.module.css","Styles/DialogsItem.module.css","Components/Main/Page Content/Messages/DIalogs/Dialogs Item/Dialogs Item.jsx","Components/Main/Page Content/Messages/Message/Message.jsx","Components/Main/Page Content/Messages/Messages.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","Components/Main/Page Content/Messages/MessagesÐ¡ontainer.jsx"],"names":["module","exports","DialogsItem","props","activeClassName","stylesItem","active","to","id","className","stylesMessages","dialogsMessages__item","itemDialogs","itemDialogs__avatar","src","avatarUrl","alt","itemDialogs__userName","userName","itemDialogs__message","message","Message","dialog__message","messageDialog","messageDialog__avatar","url","messageDialog__userName","messageDialog__text","text","messageDialog__date","date","MessagesForm","onSubmit","this","handleSubmit","dialog__actions","actionsDialog","Field","component","placeholder","actionsDialog__input","name","actionsDialog__button","React","Component","MessagesWithReduxForm","reduxForm","form","Messages","dialogsElements","messagesPage","dialogsData","map","dialog","messages","length","flag","updateMessageID","photoUrl","surname","messageData","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","Number","match","params","userId","addClass","incoming","outgoing","profile","photos","small","avatar","fullName","createMessagesData","stylesGeneral","contentPage__messages","messages__dialogs","dialogsMessages","dialogsMessages__items","dialogsMessages__dialog","dialog__messages","formData","addMessage","compose","withAuthRedirect","connect","state","auth","currentProfile","withRouter"],"mappings":"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","file":"static/js/3.539ce65b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__1qNx_\",\"dialogsMessages\":\"Messages_dialogsMessages__9HRA9\",\"dialogsMessages__items\":\"Messages_dialogsMessages__items__2y3B0\",\"dialog\":\"Messages_dialog__1hWx8\",\"dialog__messages\":\"Messages_dialog__messages__1hSp6\",\"messageDialog\":\"Messages_messageDialog__35SBU\",\"outgoing\":\"Messages_outgoing__3BV1T\",\"incoming\":\"Messages_incoming__1Zr9d\",\"messageDialog__avatar\":\"Messages_messageDialog__avatar__1IS5j\",\"messageDialog__userName\":\"Messages_messageDialog__userName__3H8fR\",\"messageDialog__text\":\"Messages_messageDialog__text__1UwaG\",\"messageDialog__date\":\"Messages_messageDialog__date__iB-0H\",\"actionsDialog\":\"Messages_actionsDialog__1HRA3\",\"actionsDialog__input\":\"Messages_actionsDialog__input__3xPcz\",\"actionsDialog__button\":\"Messages_actionsDialog__button__2Sgj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemDialogs\":\"DialogsItem_itemDialogs__oJwFw\",\"active\":\"DialogsItem_active__Cd0yq\",\"itemDialogs__avatar\":\"DialogsItem_itemDialogs__avatar__zu5bI\",\"itemDialogs__userName\":\"DialogsItem_itemDialogs__userName__3KsxN\",\"itemDialogs__message\":\"DialogsItem_itemDialogs__message__1Kmtv\"};","import React from 'react';\r\n\r\nimport stylesItem from '../../../../../../Styles/DialogsItem.module.css';\r\nimport stylesMessages from '../../../../../../Styles/Messages.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogsItem = (props) => {\r\n\r\n    return(\r\n        <NavLink activeClassName={stylesItem.active} to={`/messages/${props.id}`} className={`${stylesMessages.dialogsMessages__item} ${stylesItem.itemDialogs}`}>\r\n            <div className={stylesItem.itemDialogs__avatar}>\r\n                <img src={props.avatarUrl} alt=\"\"/>\r\n            </div>\r\n            <div className={stylesItem.itemDialogs__userName}>\r\n                {props.userName}\r\n            </div>\r\n            <div className={stylesItem.itemDialogs__message}>\r\n                {props.message}\r\n            </div>\r\n        </NavLink>\r\n    )\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\n\r\nimport stylesMessages from '../../../../../Styles/Messages.module.css';\r\n\r\nconst Message = (props) => {\r\n        return (\r\n            <div className={stylesMessages.dialog__message + ' ' + stylesMessages.messageDialog + ' ' /* + props.addClass*/}>\r\n                <div className={stylesMessages.messageDialog__avatar}>\r\n                    <img src={props.url} alt=\"\"/>\r\n                </div>\r\n                <div className={stylesMessages.messageDialog__userName}>\r\n                    {props.userName}\r\n                </div>\r\n                <div className={stylesMessages.messageDialog__text}>\r\n                    {props.text}\r\n                </div>\r\n                <div className={stylesMessages.messageDialog__date}>\r\n                    {props.date}\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport stylesMessages from '../../../../Styles/Messages.module.css';\r\nimport stylesGeneral from '../../../../Styles/PageContent.module.css';\r\n\r\nimport DialogsItem from \"./DIalogs/Dialogs Item/Dialogs Item\";\r\nimport Message from \"./Message/Message\";\r\n\r\nimport avatar from '../../../../assets/images/avatar.jpg'\r\nimport { Field , reduxForm } from \"redux-form\";\r\n\r\n\r\nconst Messages = (props) => {\r\n    let dialogsElements = props.messagesPage.dialogsData.map(dialog => {\r\n        if (dialog.messages[dialog.messages.length - 1].flag === 'outgoing') {\r\n            return (\r\n                <DialogsItem\r\n                    updateMessageID={props.updateMessageID}\r\n                    avatarUrl={dialog.photoUrl}\r\n                    userName={`${dialog.surname} ${dialog.name}`}\r\n                    id={dialog.id}\r\n                    message={`You: ${dialog.messages[dialog.messages.length - 1].message}`}/>\r\n            )\r\n        } else {\r\n            return (\r\n                <DialogsItem\r\n                    updateMessageID={props.updateMessageID}\r\n                    avatarUrl={dialog.photoUrl}\r\n                    userName={`${dialog.surname} ${dialog.name}`}\r\n                    id={dialog.id}\r\n                    message={dialog.messages[dialog.messages.length - 1].message}/>\r\n            )\r\n        }\r\n    })\r\n\r\n    let createMessagesData = (dialogsData) => {\r\n        for (const dialog of dialogsData) {\r\n            if (dialog.id === Number(props.match.params.userId)) {\r\n                return dialog.messages.map(message => {\r\n                    if(message.flag === 'incoming'){\r\n                        return(\r\n                            <Message addClass={stylesMessages.incoming}\r\n                                     url={dialog.photoUrl}\r\n                                     userName={`${dialog.surname} ${dialog.name}`}\r\n                                     text={message.message}\r\n                                     date={message.date}\r\n                            />\r\n                        )\r\n                    } else if(message.flag === 'outgoing'){\r\n                        return(\r\n                            <Message addClass={stylesMessages.outgoing}\r\n                                     url={props.profile.photos.small || avatar}\r\n                                     userName={props.profile.fullName}\r\n                                     text={message.message}\r\n                                     date={message.date}\r\n                            />\r\n                        )\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    let messageData = createMessagesData(props.messagesPage.dialogsData);\r\n\r\n    let onSubmit = (formData) => {\r\n        props.addMessage(formData.message, Number(props.match.params.userId))\r\n    }\r\n\r\n    return (\r\n        <article className={`${stylesGeneral.contentPage__messages} ${stylesMessages.messages}`}>\r\n            <div className={`${stylesMessages.messages__dialogs} ${stylesMessages.dialogsMessages}`}>\r\n                <div className={stylesMessages.dialogsMessages__items}>\r\n                    {dialogsElements}\r\n                </div>\r\n            </div>\r\n            <div className={`${stylesMessages.dialogsMessages__dialog} ${stylesMessages.dialog}`}>\r\n                <div className={stylesMessages.dialog__messages}>\r\n                    {messageData}\r\n                </div>\r\n                <MessagesWithReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </article>\r\n        )\r\n\r\n}\r\n\r\nclass MessagesForm extends React.Component{\r\n    render() {\r\n        return(\r\n            <form onSubmit={this.props.handleSubmit} className={`${stylesMessages.dialog__actions} ${stylesMessages.actionsDialog}`}>\r\n                <Field component={ 'textarea' } placeholder={ 'Write your message..' } className={ stylesMessages.actionsDialog__input } name=\"message\"/>\r\n                <div className={stylesMessages.actionsDialog__button}>\r\n                    <button>Send</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nlet MessagesWithReduxForm = reduxForm({form: 'messageForm'})(MessagesForm);\r\n\r\nexport default Messages;","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React from 'react';\r\n\r\nimport { addMessage } from \"../../../../Redux/Reducers/messagesReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport { withRouter } from \"react-router\";\r\nimport { withAuthRedirect } from \"../../../../Hoc`s/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport Messages from \"./Messages\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.auth.currentProfile,\r\n        messagesPage: state.messagesPage,\r\n    }\r\n}\r\n\r\nexport default compose( withAuthRedirect, connect(mapStateToProps, {addMessage}), withRouter)(Messages);"],"sourceRoot":""}