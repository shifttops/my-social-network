(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[3],{301:function(e,a,s){e.exports={messages:"Messages_messages__1qNx_",dialogsMessages:"Messages_dialogsMessages__9HRA9",dialogsMessages__items:"Messages_dialogsMessages__items__2y3B0",dialog:"Messages_dialog__1hWx8",dialog__messages:"Messages_dialog__messages__1hSp6",messageDialog:"Messages_messageDialog__35SBU",outgoing:"Messages_outgoing__3BV1T",incoming:"Messages_incoming__1Zr9d",messageDialog__avatar:"Messages_messageDialog__avatar__1IS5j",messageDialog__userName:"Messages_messageDialog__userName__3H8fR",messageDialog__text:"Messages_messageDialog__text__1UwaG",messageDialog__date:"Messages_messageDialog__date__iB-0H",actionsDialog:"Messages_actionsDialog__1HRA3",actionsDialog__input:"Messages_actionsDialog__input__3xPcz",actionsDialog__button:"Messages_actionsDialog__button__2Sgj5"}},304:function(e,a,s){e.exports={itemDialogs:"DialogsItem_itemDialogs__oJwFw",active:"DialogsItem_active__Cd0yq",itemDialogs__avatar:"DialogsItem_itemDialogs__avatar__zu5bI",itemDialogs__userName:"DialogsItem_itemDialogs__userName__3KsxN",itemDialogs__message:"DialogsItem_itemDialogs__message__1Kmtv"}},306:function(e,a,s){"use strict";s.r(a);var t=s(0),i=s.n(t),o=s(135),n=s(18),g=s(9),c=s(103),r=s(13),l=s(14),m=s(15),_=s(17),u=s(16),d=s(73);var j=s(301),b=s.n(j),f=s(53),v=s.n(f),D=s(304),h=s.n(D),x=s(42),p=s(1),N=function(e){return Object(p.jsxs)(x.b,{activeClassName:h.a.active,to:"/messages/".concat(e.id),className:"".concat(b.a.dialogsMessages__item," ").concat(h.a.itemDialogs),children:[Object(p.jsx)("div",{className:h.a.itemDialogs__avatar,children:Object(p.jsx)("img",{src:e.avatarUrl,alt:""})}),Object(p.jsx)("div",{className:h.a.itemDialogs__userName,children:e.userName}),Object(p.jsx)("div",{className:h.a.itemDialogs__message,children:e.message})]})},O=function(e){return Object(p.jsxs)("div",{className:b.a.dialog__message+" "+b.a.messageDialog+" ",children:[Object(p.jsx)("div",{className:b.a.messageDialog__avatar,children:Object(p.jsx)("img",{src:e.url,alt:""})}),Object(p.jsx)("div",{className:b.a.messageDialog__userName,children:e.userName}),Object(p.jsx)("div",{className:b.a.messageDialog__text,children:e.text}),Object(p.jsx)("div",{className:b.a.messageDialog__date,children:e.date})]})},M=s(45),y=s(137),I=s(138),S=function(e){Object(_.a)(s,e);var a=Object(u.a)(s);function s(){return Object(l.a)(this,s),a.apply(this,arguments)}return Object(m.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.props.handleSubmit,className:"".concat(b.a.dialog__actions," ").concat(b.a.actionsDialog),children:[Object(p.jsx)(y.a,{component:"textarea",placeholder:"Write your message..",className:b.a.actionsDialog__input,name:"message"}),Object(p.jsx)("div",{className:b.a.actionsDialog__button,children:Object(p.jsx)("button",{children:"Send"})})]})}}]),s}(i.a.Component),w=Object(I.a)({form:"messageForm"})(S),U=function(e){var a=e.messagesPage.dialogsData.map((function(a){return"outgoing"===a.messages[a.messages.length-1].flag?Object(p.jsx)(N,{updateMessageID:e.updateMessageID,avatarUrl:a.photoUrl,userName:"".concat(a.surname," ").concat(a.name),id:a.id,message:"You: ".concat(a.messages[a.messages.length-1].message)}):Object(p.jsx)(N,{updateMessageID:e.updateMessageID,avatarUrl:a.photoUrl,userName:"".concat(a.surname," ").concat(a.name),id:a.id,message:a.messages[a.messages.length-1].message})})),s=function(a){var s,t=function(e,a){var s;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(s=Object(d.a)(e))||a&&e&&"number"===typeof e.length){s&&(e=s);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,g=!1;return{s:function(){s=e[Symbol.iterator]()},n:function(){var e=s.next();return n=e.done,e},e:function(e){g=!0,o=e},f:function(){try{n||null==s.return||s.return()}finally{if(g)throw o}}}}(a);try{var i=function(){var a=s.value;if(a.id===Number(e.match.params.userId))return{v:a.messages.map((function(s){return"incoming"===s.flag?Object(p.jsx)(O,{addClass:b.a.incoming,url:a.photoUrl,userName:"".concat(a.surname," ").concat(a.name),text:s.message,date:s.date}):"outgoing"===s.flag?Object(p.jsx)(O,{addClass:b.a.outgoing,url:e.profile.photos.small||M.a,userName:e.profile.fullName,text:s.message,date:s.date}):void 0}))}};for(t.s();!(s=t.n()).done;){var o=i();if("object"===typeof o)return o.v}}catch(n){t.e(n)}finally{t.f()}}(e.messagesPage.dialogsData);return Object(p.jsxs)("article",{className:"".concat(v.a.contentPage__messages," ").concat(b.a.messages),children:[Object(p.jsx)("div",{className:"".concat(b.a.messages__dialogs," ").concat(b.a.dialogsMessages),children:Object(p.jsx)("div",{className:b.a.dialogsMessages__items,children:a})}),Object(p.jsxs)("div",{className:"".concat(b.a.dialogsMessages__dialog," ").concat(b.a.dialog),children:[Object(p.jsx)("div",{className:b.a.dialog__messages,children:s}),Object(p.jsx)(w,{onSubmit:function(a){e.addMessage(a.message,Number(e.match.params.userId))}})]})]})};a.default=Object(r.d)(c.a,Object(n.b)((function(e){return{profile:e.auth.currentProfile,messagesPage:e.messagesPage}}),{addMessage:o.a}),g.g)(U)}}]);
//# sourceMappingURL=3.539ce65b.chunk.js.map